<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Sportovní zápasy</title>
</head>
<body>
  <h1>Seznam zápasů budoucí 2</h1>
  <ul id="matches"></ul>

  <script>
    const apiBase = 'https://api.allorigins.win/raw?url=' +
               encodeURIComponent('https://api.b365api.com/v3/events/upcoming?sport_id=92&token=223543-zHPMwtDqu7Sduj');
    const leagueIdFilter = 22307;

    async function fetchAllMatches() {
      let page = 1;
      let totalPages = 1;
      const allMatches = [];

      do {
        const response = await fetch(`${apiBase}&page=${page}`);
        if (!response.ok) {
          throw new Error('Chyba při načítání API: ' + response.status);
        }
        const data = await response.json();

        totalPages = Math.ceil(data.pager.total / data.pager.per_page);

        const filteredMatches = data.results.filter(match => match.league.id == leagueIdFilter);
        allMatches.push(...filteredMatches);

        page++;
      } while (page <= totalPages);

      // Seřadíme podle času
      allMatches.sort((a, b) => a.time - b.time);

      return allMatches;
    }

    async function displayMatches() {
      try {
        const matches = await fetchAllMatches();
        const matchesList = document.getElementById('matches');
        matchesList.innerHTML = '';

        if (matches.length === 0) {
          matchesList.textContent = 'Žádné zápasy nenalezeny.';
          return;
        }

        matches.forEach(match => {
          const time = new Date(match.time * 1000).toLocaleString();
          const league = match.league.name;
          const home = match.home.name;
          const away = match.away.name;

          co
